<thy-select
    [(ngModel)]="modelValue"
    [thyAutoExpand]="true"
    [thyAllowClear]="true"
    [thyPreset]="preset()"
    [thyMode]="field().settings.is_multiple ? 'multiple' : ''"
    (thyOnExpandStatusChange)="updateValue($event)"
>
    <ng-template #selectedDisplay let-option>
        <select-option [field]="field()" [displayOption]="option"></select-option>
    </ng-template>
    @for (option of selectOptions(); track option._id) {
        <thy-option [thyValue]="option._id" [thyRawValue]="option" [thyShowOptionCustom]="true" [thyLabelText]="option.text">
            <select-option [field]="field()" [displayOption]="option"></select-option>
        </thy-option>
    }
</thy-select>

<form thyForm name="createPropertyForm" [thyFormValidatorConfig]="validatorConfig" thyLayout="vertical">
    <thy-form-group thyLabelRequired thyLabelText="表格列名">
        <thy-input-group>
            <input
                thyInput
                thyAutofocus
                name="fieldName"
                [maxlength]="fieldMaxLength"
                [(ngModel)]="field().name"
                required
                placeholder="输入列名称"
                [thyUniqueCheck]="checkUniqueName"
            />
            <ng-template #suffix>
                <thy-input-count></thy-input-count>
            </ng-template>
        </thy-input-group>
    </thy-form-group>
    <thy-form-group thyLabelText="列类型">
        <div [thyDropdown]="menu" thyTrigger="hover" thyPlacement="left" class="d-flex align-items-center">
            <thy-icon [thyIconName]="fieldType().icon" class="text-desc mr-2"></thy-icon>
            <span>{{ fieldType().name }}</span>
        </div>
    </thy-form-group>
    <thy-form-group-footer thyAlign="right">
        <button thyButton="link-secondary" (click)="cancel()">取消</button>
        <button thyButton="primary" (click)="addField()">确定</button>
    </thy-form-group-footer>
</form>

<thy-dropdown-menu #menu>
    @for (item of selectableFields; track item.type) {
        <a thyDropdownMenuItem href="javascript:;" (click)="selectFieldType(item.type)">
            <thy-icon [thyIconName]="item.icon"></thy-icon>
            <span thyDropdownMenuItemName>{{ item.name }}</span>
        </a>
    }
</thy-dropdown-menu>

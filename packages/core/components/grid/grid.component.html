<div class="v-table-grid">
  <div class="grid-column-header d-flex">
    <div class="grid-column-checkbox">
      <input type="checkbox" />
    </div>
    @for (column of value().columns; track column.id) {
    <div class="grid-column grid-cell">{{ column.name }}</div>
    }
    <div class="grid-column-blank" (click)="addColumn()">+</div>
  </div>
  @for (row of value().rows; track row.id; let index=$index) {
  <div class="grid-row d-flex">
    <div class="grid-row-index">
      {{ index + 1 }}
    </div>
    @for (data of row.value | columnProperties : value().columns; track $index)
    {
    <div class="grid-cell" #cell>
      <!-- 使用壳子组件 -->
      <!-- <grid-cell
        [value]="data.value"
        [type]="data.type"
        [recordId]="row.id"
        [fieldId]="data.key"
        [gridOptions]="options().grid"
        [selectOptions]="data['options']"
      ></grid-cell> -->
      <!-- 直接绑定数据 -->
      <div class="grid-cell">
        <div class="text-column">
          <span class="d-block">{{ data.value }}</span>
        </div>
      </div>
      <!-- 使用模版 -->
      <!-- <ng-template [ngTemplateOutlet]="text" [ngTemplateOutletContext]="{ data }"></ng-template> -->
    </div>
    }
    <div class="grid-column-blank"></div>
  </div>
  }
  <div class="grid-row-insert grid-row" (click)="addRow()">+</div>
</div>


<ng-template #text let-data="data">
  <div class="grid-cell">
    <div class="text-column">
      <span class="d-block">{{ data.value }}</span>      
    </div>
  </div> 
</ng-template>